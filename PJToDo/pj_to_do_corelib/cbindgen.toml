header = """/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */"""
autogen_warning = """/* DO NOT MODIFY THIS MANUALLY! This file was generated using cbindgen.
 * To generate this file:
 *   1. Get the latest cbindgen using `cargo install --force cbindgen`
 *      a. Alternatively, you can clone `https://github.com/eqrion/cbindgen` and use a tagged release
 *   2. Run `rustup run nightly cbindgen toolkit/library/rust/ --lockfile Cargo.lock --crate webrender_bindings -o gfx/webrender_bindings/webrender_ffi_generated.h`
 */ 
 
 \n\n#include \"struct_heads.h\"""" # 引入自己的头文件
include_version = true
braces = "SameLine"
line_length = 100
tab_width = 2
language = "C"
# namespaces = ["mozilla", "wr"]
# An optional name to use as an include guard
include_guard = "struct_heads_h"

[export]
# A list of additional items not used by exported functions to include in
# the generated bindings
# include = ["PJStruct"]
# A list of items to not include in the generated bindings
# exclude = ["ToDoTypeInsert"]
# A prefix to add before the name of every item
# prefix = "PJI_"


[parse]
parse_deps = false
# include = ["log", "webrender", "webrender_api"]
# expand = ["euclid"]

[fn]
# prefix = "WR_INLINE"
# postfix = "WR_FUNC"
# args = "Vertical"
# rename_args = "GeckoCase"

[struct]
derive_eq = true

# #[repr(C)]表示把Rust的struct一起转成C的struct,不加则表示不转，但是会生成一个对应的struct声明

# A 加#[repr(C)]:
# #[repr(C)]
# pub struct AStruct {
#     a: i32, 
# }
# 将会转成
# typedef struct {
#   int32_t age;
# } AStruct;

# B 不加#[repr(C)]:
# pub struct AStruct {
#     a: i32, 
# }
# 将会生成
# typedef struct AStruct AStruct;

[enum]
add_sentinel = false
derive_helper_methods = true

[defines]
"target_os = windows" = "XP_WIN"
"target_os = macos" = "XP_MACOSX"
"target_os = iOS" = "iOS"
"target_os = android" = "android"